<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>日報アプリ</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <header class="header">
    <h1>日報アプリ</h1>
    <p class="sub">URL共有・ログイン不要 / ステップ入力</p>
  </header>

  <main class="wrap">
    <nav class="tabs">
      <button class="tab is-active" data-view="report">日報入力</button>
      <button class="tab" data-view="knowledge">ナレッジ</button>
      <button class="tab" data-view="staff">スタッフ別</button>
      <button class="tab" data-view="export">出力</button>
    </nav>

    <!-- 日報入力 -->
    <section id="view-report" class="view is-show">
      <h2>日報入力（ステップ）</h2>

      <div class="stepper">
        <div class="step is-active" data-step="1">1</div>
        <div class="step" data-step="2">2</div>
        <div class="step" data-step="3">3</div>
        <div class="step" data-step="4">4</div>
      </div>

      <form id="reportForm" class="card">
        <!-- STEP 1 -->
        <div class="panel is-show" data-panel="1">
          <label>日付
            <input type="date" name="date" required />
          </label>

          <label>スタッフ名
            <input type="text" name="staff" placeholder="例：小澤 / からねる" required />
          </label>

          <label>稼働場所（任意）
            <input type="text" name="place" placeholder="例：○○店 / ○○催事" />
          </label>

          <div class="row">
            <button type="button" class="btn" data-next>次へ</button>
          </div>
        </div>

        <!-- STEP 2 -->
        <div class="panel" data-panel="2">
          <label>成約数
            <input type="number" name="contracts" min="0" value="0" required />
          </label>

          <label>主な獲得内容（任意）
            <input type="text" name="details" placeholder="例：乗り換え2 / 新規1 など" />
          </label>

          <div class="row">
            <button type="button" class="btn ghost" data-prev>戻る</button>
            <button type="button" class="btn" data-next>次へ</button>
          </div>
        </div>

        <!-- STEP 3 -->
        <div class="panel" data-panel="3">
          <label>良かったこと（任意）
            <textarea name="good" rows="4" placeholder="例：声かけ数を増やして反応率が上がった"></textarea>
          </label>

          <label>課題（任意）
            <textarea name="issue" rows="4" placeholder="例：受付導線が弱く、立ち止まりが少なかった"></textarea>
          </label>

          <div class="row">
            <button type="button" class="btn ghost" data-prev>戻る</button>
            <button type="button" class="btn" data-next>次へ</button>
          </div>
        </div>

        <!-- STEP 4 -->
        <div class="panel" data-panel="4">
          <label>明日の改善（任意）
            <textarea name="next" rows="4" placeholder="例：入口での声かけ台本を統一する"></textarea>
          </label>

          <div class="row">
            <button type="button" class="btn ghost" data-prev>戻る</button>
            <button type="submit" class="btn">保存</button>
          </div>
        </div>
      </form>

      <section class="card">
        <div class="cardHead">
          <h3>保存済み日報</h3>
          <button class="btn small" id="clearReports">全削除</button>
        </div>
        <div id="reportList" class="list"></div>
      </section>
    </section>

    <!-- ナレッジ -->
    <section id="view-knowledge" class="view">
      <div class="cardHead">
        <h2>ナレッジ</h2>
      </div>

      <form id="knowledgeForm" class="card">
        <label>タイトル
          <input type="text" name="title" required placeholder="例：初動で立ち止まらせる一言" />
        </label>
        <label>内容
          <textarea name="body" rows="5" required placeholder="例：『スマホ料金、今より下がる可能性あります！』から入る"></textarea>
        </label>
        <div class="row">
          <button class="btn" type="submit">追加</button>
        </div>
      </form>

      <section class="card">
        <div class="cardHead">
          <h3>一覧</h3>
          <button class="btn small" id="clearKnowledge">全削除</button>
        </div>
        <div id="knowledgeList" class="list"></div>
      </section>
    </section>

    <!-- スタッフ別 -->
    <section id="view-staff" class="view">
      <div class="cardHead">
        <h2>スタッフ別</h2>
      </div>

      <div class="card">
        <label>スタッフ名で絞り込み
          <input id="staffFilter" type="text" placeholder="例：小澤 / からねる" />
        </label>
        <div id="staffSummary" class="list"></div>
      </div>
    </section>

    <!-- 出力 -->
    <section id="view-export" class="view">
      <div class="cardHead">
        <h2>出力</h2>
      </div>

      <div class="card">
        <p>保存データをCSVとしてコピーできます（まずは簡易版）。</p>
        <button class="btn" id="copyCSV">CSVをコピー</button>
        <pre id="csvBox" class="pre"></pre>
      </div>
    </section>

  </main>

  <script src="./app.js"></script>
</body>
</html>
